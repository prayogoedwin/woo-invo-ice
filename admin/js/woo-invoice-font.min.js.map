{"version":3,"sources":["woo-invoice-font.js"],"names":["jQuery","$","hide","on","e","preventDefault","file_data","prop","alert","ext","name","split","pop","includes","accept_file_type","show","_error","form_data","FormData","error","apply","arguments","append","ajax","wpifw_ajax_obj_font","nonce","type","contentType","processData","dataType","success","console","data","log","font_name","val","html","toString"],"mappings":"aAAAA,OAAO,SAAAC,G,EAIF,gBAAC,EAAiBC,KAAK,E,EAGvB,eAAC,EAAgBA,KAAK,E,EAGtB,UAAC,EAAWA,KAAK,E,EAGjB,qCAAC,EAAsCA,KAAK,E,EAG3C,kCAAA,EAAoCC,GAAG,QAAS,SAAAC,G,EAE5CC,eAAAA,EAEFC,EAAaL,EAAGA,0BAAE,EAA0BM,KAAEA,OAAK,EAAO,G,GAItDC,CAAAA,E,aACAA,iBAAY,EAChB,CAAA,E,IAIIC,EAAmBH,EAAEA,KAAMI,MAAAC,GAAA,EAAAC,IAAAA,E,GAE3BJ,CADMK,CAAAA,MAASC,MAAAA,OACTL,SAAAI,CAAAC,E,aACNN,0CAAY,EAChB,CAAA,E,EAGAP,kCAAE,EAAkCC,KAAEA,E,EAGtCD,UAAE,EAAUC,KAAEA,E,EAGdD,eAAE,EAAeC,KAAEA,E,EAGnBD,SAAE,EAASC,KAAEA,E,EAGbD,qCAAE,EAAqCc,KAAEA,E,EAGzCd,gBAAE,EAAgBc,KAAEA,E,IAyDXC,EArDTC,EAAiB,IAAAC,S,SAqDRC,EAAAA,G,OAAAH,EAAAA,MAAAI,KAAAC,SAAAA,C,GApDTJ,OAAUK,OAAiBhB,CAAAA,E,EAC3BW,OAAUK,SAAO,gCAAa,E,EAE5BC,OAAKD,cAAAE,oBAAAA,KAAAC,E,EAEHC,KAAIH,C,IACJI,oBAAWH,oB,KACXI,O,YACMX,CAAAA,E,YACNY,CAAAA,E,KACAC,E,SACIC,O,QACGC,SAAKF,G,QACJC,IAAAE,EAAAD,KAAAA,SAAAE,EACE,GAAAF,EAAAA,S,4BAEF,EAAAG,IAAA,EAAAA,E,YAGA,EAAAC,KAAAA,+CAAA,E,kBAGA,EAAAlC,KAAAA,E,YAGA,EAAAa,KAAAA,E,oCAGA,EAAAA,KAAAA,E,uCAGYiB,EAAAA,KAAK9B,I,QAEf6B,IAAAC,CAAA,E,4BAEF,EAAAG,IAAA,EAAAA,E,WAGA,EAAApB,KAAAA,EAAAA,KAAAqB,MAAAjB,IAAA,E,kBAGA,EAAAjB,KAAAA,E,oCAGA,EAAAa,KAAAA,E,uCAGA,EAAAb,KAAAA,E,iBAIP,EAAAa,KAAAA,E,SACIC,E,SAAAG,G,QAAAY,IAAAM,CAAAA,E,4BAAWlB,EAAAA,IAAOgB,EAAAA,E,WAInB,EAAApB,KAAAA,EAAAA,KAAAqB,EAAAjB,IAAAa,E,kBAGA,EAAA9B,KAAAA,E,oCAGA,EAAAa,KAAAA,E,uCAGA,EAAAb,KAAAA,E,iBAGA,EAAAa,KAAAA,C,IAhBCI,SAAAkB,W,OAAArB,EAAAA,SAAAqB,C,EAAAlB,E,GAuBb,CACJ,CAAC","file":"woo-invoice-font.min.js","sourcesContent":["jQuery(function($) {\r\n    'use strict';\r\n\r\n    // Default hide loading image.\r\n    $('#loading-image').hide();\r\n\r\n    // Default hide warning icon\r\n    $('#font-warning').hide();\r\n\r\n    // Default hide success icon.\r\n    $('#success').hide();\r\n\r\n    // Default hide downloading button.\r\n    $('#wpifw_pdf_invoice_font_downloading').hide();\r\n\r\n\r\n    $('#wpifw_pdf_invoice_download_font').on('click', function(e) {\r\n        // Stop scroll when click on download button\r\n        e.preventDefault();\r\n\r\n        var file_data = $('#woo-invoice-font-upload').prop('files')[0];\r\n\r\n        // Check for blank upload request.\r\n        if( !file_data ){\r\n            alert('Invalid request');\r\n            return false;\r\n        }\r\n\r\n        // Check zip extention for upload.\r\n        var accept_file_type = file_data.name.split( '.' ).pop()\r\n        var ext = ['zip', 'ttf', 'otf'];\r\n        if( ! ext.includes(accept_file_type) ){\r\n            alert('please upload file type .zip, .ttf, .otf');\r\n            return false;\r\n        }\r\n\r\n        // Hide download button after click button.\r\n        $('#wpifw_pdf_invoice_download_font').hide();\r\n\r\n        // Hide success icon after click button.\r\n        $('#success').hide();\r\n\r\n        // Show warning icon\r\n        $('#font-warning').hide();\r\n\r\n        // Error Message\r\n        $('#errors').hide();\r\n\r\n        // Show downloading button.\r\n        $('#wpifw_pdf_invoice_font_downloading').show();\r\n\r\n        // Show loading image when click.\r\n        $('#loading-image').show();\r\n\r\n      //  console.log(file_data);\r\n        var form_data = new FormData();\r\n        form_data.append('file', file_data);\r\n        form_data.append('action', 'woo_invoice_font_download_ajax');\r\n        form_data.append('_ajax_nonce', wpifw_ajax_obj_font.nonce);\r\n\r\n        $.ajax({\r\n            url: wpifw_ajax_obj_font.wpifw_ajax_font_url,\r\n            type: 'POST',\r\n            contentType: false,\r\n            processData: false,\r\n            data: form_data,\r\n            dataType: 'json',\r\n            success:function (data) {\r\n                console.log(data.data.font_name);\r\n                if(data.success == true){\r\n                    // Reset form data.\r\n                    $('#woo-invoice-font-upload').val('');\r\n\r\n                    // Show success message when uplaoded file.\r\n                    $('#success').html('<span class=\"dashicons dashicons-yes\"></span>');\r\n\r\n                    // Hide Loading Image\r\n                    $('#loading-image').hide();\r\n\r\n                    // Show success icon\r\n                    $('#success').show();\r\n\r\n                    // Show download button\r\n                    $('#wpifw_pdf_invoice_download_font').show();\r\n\r\n                    // Hide downloading button\r\n                    $('#wpifw_pdf_invoice_font_downloading').hide();\r\n                }else{\r\n                    console.log(data);\r\n                    // Reset input value.\r\n                    $('#woo-invoice-font-upload').val('');\r\n\r\n                    // Show error message.\r\n                    $('#errors').show().html(error.data);\r\n\r\n                    // Hide Loading Image\r\n                    $('#loading-image').hide();\r\n\r\n                    // Show download button\r\n                    $('#wpifw_pdf_invoice_download_font').show();\r\n\r\n                    // Hide downloading button\r\n                    $('#wpifw_pdf_invoice_font_downloading').hide();\r\n\r\n                    // Show warning icon\r\n                    $('#font-warning').show();\r\n                }\r\n\r\n            },\r\n            error:function (error) {\r\n\r\n                console.log(error);\r\n\r\n                // Reset input value.\r\n                $('#woo-invoice-font-upload').val('');\r\n\r\n                // Show error message.\r\n                $('#errors').show().html(error.data);\r\n\r\n                // Hide Loading Image\r\n                $('#loading-image').hide();\r\n\r\n                // Show download button\r\n                $('#wpifw_pdf_invoice_download_font').show();\r\n\r\n                // Hide downloading button\r\n                $('#wpifw_pdf_invoice_font_downloading').hide();\r\n\r\n                // Show warning icon\r\n                $('#font-warning').show();\r\n            }\r\n        });\r\n    });\r\n});\r\n"]}